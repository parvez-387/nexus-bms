
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Settings | NexusBMS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="sidebar-container"></div>
    <main class="main-content">
        <div id="navbar-container"></div>
        <div class="p-4 d-flex justify-content-center mt-5 fade-in">
            <div class="card border-0 shadow rounded-4 p-5" style="max-width: 500px; width: 100%;">
                <div class="text-center mb-4">
                    <div class="icon-box bg-primary text-white mx-auto mb-3"><i class="fas fa-cloud"></i></div>
                    <h4 class="fw-bold">Enterprise Cloud</h4>
                    <p class="text-muted small">Connect your system to Google Sheets.</p>
                </div>
                <div class="mb-4">
                    <label class="small fw-bold text-muted mb-2">Web App URL</label>
                    <input type="text" id="api-input" class="form-control rounded-3" value="${nexus.state.apiUrl}">
                </div>
                <div class="d-grid gap-2">
                    <button class="btn btn-primary py-2 fw-bold" onclick="saveSettings()">Save Configuration</button>
                    <button class="btn btn-outline-danger py-2 fw-bold" onclick="clearData()">Wipe Local Storage</button>
                </div>
            </div>
        </div>
    </main>

    <script src="nexus-core.js"></script>
    <script src="nexus-ui.js"></script>
    <script>
        function saveSettings() {
            const url = document.getElementById('api-input').value;
            nexus.state.apiUrl = url;
            localStorage.setItem('nexus_api_url', url);
            nexus.save();
            alert("Settings updated.");
        }

        function clearData() {
            if(confirm("DANGER: This will delete everything. Proceed?")) {
                localStorage.clear();
                window.location.href = 'index.html';
            }
        }
    </script>
</body>
</html>
